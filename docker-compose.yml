version: "3.9"

services:
  hadoop-client:
    image: yourorg/hadoop-client:3.3.6  # You can use apache/hadoop:3.3.6 or packet23/hadoop-client:3.4.0
    container_name: hadoop-client
    hostname: hadoop-client
    environment:
      - HADOOP_HOME=/opt/hadoop
      - HADOOP_CONF_DIR=/opt/hadoop/conf
      - HADOOP_COMMON_HOME=/opt/hadoop
      - HADOOP_HDFS_HOME=/opt/hadoop
      - HADOOP_MAPRED_HOME=/opt/hadoop
      - HADOOP_YARN_HOME=/opt/hadoop
      - JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64
    volumes:
      # Mount shared Hadoop configuration
      - ./conf:/opt/hadoop/conf
      # Optional: mount shared logs or jars
      - ./logs:/opt/hadoop/logs
    networks:
      - hadoop-net
    command: ["/bin/bash", "-c", "tail -f /dev/null"]  # Keep container running idle
    restart: always

networks:
  hadoop-net:
    driver: bridge
